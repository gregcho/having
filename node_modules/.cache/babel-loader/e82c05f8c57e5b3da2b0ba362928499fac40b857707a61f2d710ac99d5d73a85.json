{"ast":null,"code":"import axios from \"axios\";\nimport authHeader from \"../services/auth-header\";\nexport default {\n  data() {\n    return {\n      loading: false,\n      snackbar: false,\n      text: \"\",\n      timeout: 2000,\n      page: 1,\n      itemsPerPage: 10,\n      totalItems: 0,\n      items: [],\n      filters: {\n        supplier: \"\",\n        region: \"\",\n        productName: \"\"\n      },\n      headers: [{\n        text: \"ID\",\n        value: \"id\"\n      }, {\n        text: \"Supplier\",\n        value: \"supplier\"\n      }, {\n        text: \"Region\",\n        value: \"region\"\n      }, {\n        text: \"Product Name\",\n        value: \"productName\"\n      }, {\n        text: \"Status\",\n        value: \"status\",\n        sortable: false\n      }]\n    };\n  },\n  created() {\n    this.getData();\n  },\n  methods: {\n    getData() {\n      this.loading = true;\n      axios.get(\"/parts/search\", {\n        headers: authHeader(),\n        params: {\n          page: this.page,\n          itemsPerPage: this.itemsPerPage,\n          ...this.filters\n        }\n      }).then(response => {\n        this.items = response.data.data;\n        this.totalItems = response.data.total;\n      }).catch(error => {\n        this.createSnackBar(\"서버에러: \" + error.message);\n      }).finally(() => {\n        this.loading = false;\n      });\n    },\n    getImage(status) {\n      const images = require.context(\"../assets\", false, /\\.png$/);\n      return status === 99 ? images(\"./done.png\") : images(\"./progress.png\");\n    },\n    createSnackBar(message) {\n      this.snackbar = true;\n      this.text = message;\n    }\n  },\n  computed: {\n    currentUser() {\n      return !!this.$store.state.auth.user;\n    }\n  }\n};","map":{"version":3,"names":["axios","authHeader","data","loading","snackbar","text","timeout","page","itemsPerPage","totalItems","items","filters","supplier","region","productName","headers","value","sortable","created","getData","methods","get","params","then","response","total","catch","error","createSnackBar","message","finally","getImage","status","images","require","context","computed","currentUser","$store","state","auth","user"],"sources":["src/views/PricingView.vue"],"sourcesContent":["<template>\r\n  <v-container class=\"pa-13 mb-13\">\r\n    <div v-if=\"currentUser\">\r\n      <header class=\"jumbotron\">\r\n        <h3>{{content}}</h3>\r\n      </header>\r\n    </div>\r\n    <div v-else>\r\n      <v-row>\r\n        <v-col sm=\"4\" class=\"ma-4\">\r\n          <h2>파일조회</h2>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row class=\"ml-1\">\r\n        <!-- 파일명 -->\r\n        <v-col cols=\"2\" class=\"pa-1 ma-1\">\r\n          <v-text-field\r\n            v-model=\"searchFileName\"\r\n            label=\"Supplier\"\r\n            outlined\r\n            dense\r\n            @keyup.enter=\"getData()\"\r\n          >\r\n          </v-text-field>\r\n        </v-col>\r\n        <v-col cols=\"2\" class=\"pa-1 ma-1\">\r\n          <v-text-field v-model=\"yearModel\" label=\"Region\" outlined dense>\r\n          </v-text-field>\r\n        </v-col>\r\n        <v-col cols=\"2\" class=\"pa-1 ma-1\">\r\n          <v-text-field v-model=\"yearModel\" label=\"Product Name\" outlined dense>\r\n          </v-text-field>\r\n        </v-col>\r\n        <v-col cols=\"2\" class=\"pa-1 ma-1\">\r\n          <v-text-field v-model=\"yearModel\" label=\"Department\" outlined dense>\r\n          </v-text-field>\r\n        </v-col>\r\n        <v-col cols=\"2\" class=\"pa-1 ma-1\">\r\n          <v-text-field v-model=\"yearModel\" label=\"Company Name\" outlined dense>\r\n          </v-text-field>\r\n        </v-col>\r\n        <v-col cols=\"2\" class=\"pa-1 ma-1\">\r\n          <v-text-field v-model=\"yearModel\" label=\"Business Type\" outlined dense>\r\n          </v-text-field>\r\n        </v-col>\r\n        <v-col cols=\"2\" class=\"pa-1 ma-1\">\r\n          <v-text-field v-model=\"yearModel\" label=\"Country/Region\" outlined dense>\r\n          </v-text-field>\r\n        </v-col>\r\n        <v-col cols=\"2\" class=\"pa-1 ma-1\">\r\n          <v-text-field v-model=\"yearModel\" label=\"Search Criteria\" outlined dense>\r\n          </v-text-field>\r\n        </v-col>\r\n\r\n        <!-- 검색버튼  -->\r\n        <v-col cols=\"auto\" class=\"pa-1 ma-1\">\r\n          <v-btn color=\"primary\" @click=\"getData\" ref=\"search\">\r\n            <span>검색</span>\r\n          </v-btn>\r\n        </v-col>\r\n      </v-row>\r\n      <!-- 데이터 테이블 -->\r\n      <!-- 참고: https://vuetifyjs.com/en/components/data-tables/#misc -->\r\n      <!-- 종류: Row Selection -->\r\n      <v-col>\r\n        <v-data-table\r\n        \r\n          v-model=\"selected_model\"\r\n          :headers=\"selected_headers\"\r\n          :items=\"selected_items\"\r\n          item-key=\"idx\"\r\n          show-select\r\n          class=\"elevation-1\"\r\n          @click:row=\"navigateToDetail\"\r\n        >\r\n          <template v-slot:item.status=\"{ item }\">\r\n            <v-img\r\n              max-height=\"20\"\r\n              max-width=\"20\"\r\n              :src=\"getImage(item.status)\"\r\n            ></v-img>\r\n          </template>\r\n        </v-data-table>\r\n      </v-col>\r\n      <!-- 데이터 테이블 -->\r\n      <!-- 참고: https://vuetifyjs.com/en/components/data-tables/#misc -->\r\n      <!-- 종류: Row Selection -->\r\n      <v-col>\r\n        <v-data-table\r\n          v-model=\"selected\"\r\n          :headers=\"headers\"\r\n          :items=\"items\"\r\n          item-key=\"idx\"\r\n          show-select\r\n          class=\"elevation-1\"\r\n          @click:row=\"navigateToDetail\"\r\n        >\r\n        </v-data-table>\r\n      </v-col>\r\n      <v-row>\r\n        <v-btn class=\"ma-6\" color=\"primary\" @click=\"\">\r\n          <span>부품 추가</span>\r\n        </v-btn>\r\n      </v-row>\r\n      <v-snackbar v-model=\"snackbar\" :timeout=\"timeout\">\r\n        {{ text }}\r\n        <template v-slot:action=\"{ attrs }\">\r\n          <v-btn color=\"blue\" text v-bind=\"attrs\" @click=\"snackbar = false\">\r\n            Close\r\n          </v-btn>\r\n        </template>\r\n      </v-snackbar>\r\n    </div>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport authHeader from \"../services/auth-header\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      snackbar: false,\r\n      text: \"\",\r\n      timeout: 2000,\r\n      page: 1,\r\n      itemsPerPage: 10,\r\n      totalItems: 0,\r\n      items: [],\r\n      filters: {\r\n        supplier: \"\",\r\n        region: \"\",\r\n        productName: \"\",\r\n      },\r\n      headers: [\r\n        { text: \"ID\", value: \"id\" },\r\n        { text: \"Supplier\", value: \"supplier\" },\r\n        { text: \"Region\", value: \"region\" },\r\n        { text: \"Product Name\", value: \"productName\" },\r\n        { text: \"Status\", value: \"status\", sortable: false },\r\n      ],\r\n    };\r\n  },\r\n  created() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    getData() {\r\n      this.loading = true;\r\n      axios\r\n        .get(\"/parts/search\", {\r\n          headers: authHeader(),\r\n          params: {\r\n            page: this.page,\r\n            itemsPerPage: this.itemsPerPage,\r\n            ...this.filters,\r\n          },\r\n        })\r\n        .then((response) => {\r\n          this.items = response.data.data;\r\n          this.totalItems = response.data.total;\r\n        })\r\n        .catch((error) => {\r\n          this.createSnackBar(\"서버에러: \" + error.message);\r\n        })\r\n        .finally(() => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n    getImage(status) {\r\n      const images = require.context(\"../assets\", false, /\\.png$/);\r\n      return status === 99 ? images(\"./done.png\") : images(\"./progress.png\");\r\n    },\r\n    createSnackBar(message) {\r\n      this.snackbar = true;\r\n      this.text = message;\r\n    },\r\n  },\r\n  computed: {\r\n    currentUser() {\r\n      return !!this.$store.state.auth.user;\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"mappings":"AAqHA,OAAAA,KAAA;AACA,OAAAC,UAAA;AAEA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,QAAA;MACAC,IAAA;MACAC,OAAA;MACAC,IAAA;MACAC,YAAA;MACAC,UAAA;MACAC,KAAA;MACAC,OAAA;QACAC,QAAA;QACAC,MAAA;QACAC,WAAA;MACA;MACAC,OAAA,GACA;QAAAV,IAAA;QAAAW,KAAA;MAAA,GACA;QAAAX,IAAA;QAAAW,KAAA;MAAA,GACA;QAAAX,IAAA;QAAAW,KAAA;MAAA,GACA;QAAAX,IAAA;QAAAW,KAAA;MAAA,GACA;QAAAX,IAAA;QAAAW,KAAA;QAAAC,QAAA;MAAA;IAEA;EACA;EACAC,QAAA;IACA,KAAAC,OAAA;EACA;EACAC,OAAA;IACAD,QAAA;MACA,KAAAhB,OAAA;MACAH,KAAA,CACAqB,GAAA;QACAN,OAAA,EAAAd,UAAA;QACAqB,MAAA;UACAf,IAAA,OAAAA,IAAA;UACAC,YAAA,OAAAA,YAAA;UACA,QAAAG;QACA;MACA,GACAY,IAAA,CAAAC,QAAA;QACA,KAAAd,KAAA,GAAAc,QAAA,CAAAtB,IAAA,CAAAA,IAAA;QACA,KAAAO,UAAA,GAAAe,QAAA,CAAAtB,IAAA,CAAAuB,KAAA;MACA,GACAC,KAAA,CAAAC,KAAA;QACA,KAAAC,cAAA,YAAAD,KAAA,CAAAE,OAAA;MACA,GACAC,OAAA;QACA,KAAA3B,OAAA;MACA;IACA;IACA4B,SAAAC,MAAA;MACA,MAAAC,MAAA,GAAAC,OAAA,CAAAC,OAAA;MACA,OAAAH,MAAA,UAAAC,MAAA,iBAAAA,MAAA;IACA;IACAL,eAAAC,OAAA;MACA,KAAAzB,QAAA;MACA,KAAAC,IAAA,GAAAwB,OAAA;IACA;EACA;EACAO,QAAA;IACAC,YAAA;MACA,cAAAC,MAAA,CAAAC,KAAA,CAAAC,IAAA,CAAAC,IAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}